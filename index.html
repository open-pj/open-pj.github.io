<!doctype html>
<html lang="uk">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Neon Open Source Portfolio ‚Äî Firebase Google Auth</title>
<meta name="description" content="Neon portfolio ‚Äî Google login + GitHub repos" />
<style>
  :root{
    --bg:#050512; --muted:#9fb0c8; --accent1:#7dd3fc; --accent2:#a78bfa; --neon:#00f0ff;
    --radius:12px; --gap:16px; --maxw:1200px;
  }
  *{box-sizing:border-box}
  body{
    margin:0;padding:28px;display:flex;justify-content:center;min-height:100vh;
    font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    background:
      radial-gradient(700px 360px at 10% 8%, rgba(125,211,252,0.04), transparent),
      linear-gradient(180deg,var(--bg), #020214 120%); color:#eaf6ff;
  }
  .wrap{width:100%;max-width:var(--maxw)}
  header{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:16px}
  .brand{display:flex;gap:12px;align-items:center}
  .logo{width:64px;height:64px;border-radius:14px;background:linear-gradient(135deg,var(--accent1),var(--accent2));display:grid;place-items:center;font-weight:800;color:#021827;font-size:18px;box-shadow:0 8px 30px rgba(167,139,250,0.12)}
  h1{margin:0;font-size:20px}
  .lead{margin:0;color:var(--muted);font-size:13px}
  .controls{display:flex;gap:10px;align-items:center}
  .input,.select,.btn{background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent);border:1px solid rgba(255,255,255,0.03);padding:10px 12px;border-radius:12px;color:inherit;outline:none}
  .btn{cursor:pointer}
  .btn.primary{background:linear-gradient(90deg,var(--accent1),var(--accent2));border:none;color:#021827;font-weight:700}
  .topbar{display:flex;align-items:center;gap:12px;margin-bottom:14px;flex-wrap:wrap}
  .avatar{width:56px;height:56px;border-radius:12px;background:linear-gradient(135deg,#05232e,#071029);display:grid;place-items:center;font-weight:800;color:var(--accent1);font-size:18px}
  .profile-info .name{font-weight:700}
  .profile-info .bio{color:var(--muted);font-size:13px}
  .lang-switch button{padding:6px 8px;border-radius:8px;border:1px solid rgba(255,255,255,0.03);background:transparent;color:var(--muted);cursor:pointer}
  .lang-switch button.active{background:linear-gradient(90deg,var(--accent1),var(--accent2));color:#021827;font-weight:700}
  main{}
  .grid{display:grid;gap:var(--gap);grid-auto-rows:1fr}
  @media (min-width:1200px){ .grid{grid-template-columns:repeat(4,1fr);} }
  @media (min-width:900px) and (max-width:1199px){ .grid{grid-template-columns:repeat(3,1fr);} }
  @media (min-width:640px) and (max-width:899px){ .grid{grid-template-columns:repeat(2,1fr);} }
  @media (max-width:639px){ .grid{grid-template-columns:1fr;} header{flex-direction:column;align-items:flex-start} }
  .card{position:relative;padding:16px;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.018), rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.03);min-height:140px;display:flex;flex-direction:column;gap:10px;box-shadow:0 10px 30px rgba(2,6,23,0.6);transition:transform .2s,box-shadow .2s}
  .card:hover{transform:translateY(-8px) scale(1.01);box-shadow:0 26px 60px rgba(2,6,23,0.8)}
  .title{font-weight:800;margin:0}
  .desc{color:var(--muted);font-size:13px}
  .tags{display:flex;gap:8px;flex-wrap:wrap}
  .tag{padding:6px 8px;border-radius:999px;font-size:12px;border:1px solid rgba(255,255,255,0.03);background:linear-gradient(90deg, rgba(255,255,255,0.01), rgba(255,255,255,0.005));color:var(--neon)}
  .actions{display:flex;align-items:center;gap:8px;margin-top:auto}
  .link{padding:8px 12px;border-radius:10px;text-decoration:none;border:1px solid rgba(255,255,255,0.04);background:transparent;color:var(--accent1);font-weight:700}
  .muted{color:var(--muted)}
  .center{text-align:center}
  .modal-back{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(2,6,23,0.6);z-index:60}
  .modal{width:100%;max-width:640px;background:linear-gradient(180deg,#071029,#031122);border-radius:14px;padding:18px;border:1px solid rgba(255,255,255,0.03)}
  .form-row{display:flex;flex-direction:column;gap:6px;margin-bottom:12px}
  input[type="text"],textarea{padding:10px;border-radius:10px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:inherit;outline:none}
  textarea{min-height:90px;resize:vertical}
  footer{margin-top:18px;color:var(--muted);font-size:13px;text-align:center}
  /* entry animation */
  .card{opacity:0;transform:translateY(16px) scale(.995)}
  .card.visible{opacity:1;transform:none;transition:opacity .6s ease, transform .6s cubic-bezier(.2,.9,.3,1)}
</style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="brand">
        <div class="logo" id="logo-nick">NET</div>
        <div>
          <h1 id="main-title">Neon Open Source Portfolio</h1>
          <p class="lead" id="main-sub">–ü–æ–∫–∞–∑ –≤–∞—à–∏—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó–≤ ‚Äî —É–≤—ñ–π–¥—ñ—Ç—å —á–µ—Ä–µ–∑ Google —Ç–∞ –ø—ñ–¥–∫–ª—é—á—ñ—Ç—å GitHub</p>
        </div>
      </div>

      <div class="controls">
        <input id="search" class="input" placeholder="–ü–æ—à—É–∫: –Ω–∞–∑–≤–∞, –æ–ø–∏—Å, —Ç–µ–≥–∏..." />
        <select id="filter" class="select" title="–§—ñ–ª—å—Ç—Ä">
          <option value="all">–í—Å—ñ</option>
          <option value="js">JavaScript</option>
          <option value="py">Python</option>
          <option value="web">Web</option>
          <option value="lib">–ë—ñ–±–ª—ñ–æ—Ç–µ–∫–∏</option>
          <option value="tool">–Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏</option>
        </select>
        <button id="open-login" class="btn primary">–£–≤—ñ–π—Ç–∏ —á–µ—Ä–µ–∑ Google</button>
      </div>
    </header>

    <div class="topbar">
      <div style="display:flex;gap:12px;align-items:center">
        <div class="avatar" id="avatar-preview">U</div>
        <div class="profile-info">
          <div class="name" id="profile-name">–ì—ñ—Å—Ç—å</div>
          <div class="bio" id="profile-bio">–£–≤—ñ–π–¥—ñ—Ç—å, —â–æ–± —Ä–µ–¥–∞–≥—É–≤–∞—Ç–∏ –ø—Ä–æ—Ñ—ñ–ª—å —Ç–∞ –ø—ñ–¥–∫–ª—é—á–∏—Ç–∏ GitHub</div>
        </div>
      </div>

      <div style="margin-left:auto;display:flex;gap:12px;align-items:center">
        <input id="github-handle" class="input" placeholder="GitHub –Ω—ñk (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥: yourname)" />
        <button id="load-github" class="btn">–ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó</button>
        <div class="lang-switch" role="tablist" aria-label="–ú–æ–≤–∞">
          <button data-lang="uk" class="active">üá∫üá¶ –£–ö–†</button>
          <button data-lang="ru">üá∑üá∫ –†–£–°</button>
          <button data-lang="en">üá¨üáß ENG</button>
        </div>
        <button id="edit-profile" class="btn">–†–µ–¥–∞–≥—É–≤–∞—Ç–∏ –ø—Ä–æ—Ñ—ñ–ª—å</button>
      </div>
    </div>

    <main>
      <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:10px">
        <h2 style="margin:0">–ü—Ä–æ—î–∫—Ç–∏</h2>
        <div class="muted">–ü–æ–∫–∞–∑–∞–Ω–æ <span id="count">0</span></div>
      </div>

      <div id="grid" class="grid" aria-live="polite"></div>
      <div id="empty" class="center muted" style="display:none;margin-top:18px">–©–µ –Ω–µ–º–∞—î —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó–≤ ‚Äî –≤–≤–µ–¥—ñ—Ç—å GitHub –Ω—ñk —ñ –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å ¬´–ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó¬ª</div>
    </main>

    <footer>
      <div class="muted">¬© <span id="footer-name">–¢–≤–æ—î —ñ–º'—è</span> ‚Äî Neon Portfolio</div>
    </footer>
  </div>

  <!-- modal -->
  <div id="modal-back" class="modal-back" aria-hidden="true">
    <div class="modal" id="modal"></div>
  </div>

  <!-- Firebase SDK (modular) -->
  <!-- –ó–ê–ú–Ü–ù–ò –Ω–∏–∂–µ firebaseConfig –Ω–∞ —Å–≤—ñ–π: –æ—Ç—Ä–∏–º–∞—î—à —É Firebase Console -> Project settings -> SDK setup and configuration -->
  <script type="module">
  // -----------------------------
  // 1) –í–°–¢–ê–í–¨ –°–Æ–î–ê –°–í–û–Æ CONFIG
  // –£ Firebase Console:
  //  - –°—Ç–≤–æ—Ä–∏ –ø—Ä–æ–µ–∫—Ç
  //  - –í Authentication -> Sign-in method —É–≤—ñ–º–∫–Ω–∏ Google
  //  - –í Authorized domains –¥–æ–¥–∞–π: https://<—Ç–≤—ñ–π-–ª–æ–≥—ñ–Ω>.github.io
  //  - –°–∫–æ–ø—ñ—é–π –∫–æ–Ω—Ñ—ñ–≥ –∑ Project settings -> SDK setup
  // -----------------------------
  const firebaseConfig = {
    apiKey: "REPLACE_ME",
    authDomain: "REPLACE_ME.firebaseapp.com",
    projectId: "REPLACE_ME",
    appId: "REPLACE_ME",
    // (—ñ–Ω—à—ñ –ø–æ–ª—è —è–∫ —É –∫–æ–Ω—Å–æ–ª—ñ)
  };
  // -----------------------------
  // –ü–æ–¥–∫–ª—é—á–∞–µ–º Firebase (modular)
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-app.js";
  import { getAuth, GoogleAuthProvider, signInWithPopup, signOut, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-auth.js";

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);
  const provider = new GoogleAuthProvider();

  // -----------------------------
  // App logic (UI + GitHub fetch)
  const STORAGE_KEY = 'neon_portfolio_profile_v2';
  let profile = loadProfile();
  let repos = [];

  // DOM
  const grid = document.getElementById('grid');
  const searchEl = document.getElementById('search');
  const filterEl = document.getElementById('filter');
  const emptyEl = document.getElementById('empty');
  const avatarPreview = document.getElementById('avatar-preview');
  const profileNameEl = document.getElementById('profile-name');
  const profileBioEl = document.getElementById('profile-bio');
  const editProfileBtn = document.getElementById('edit-profile');
  const openLoginBtn = document.getElementById('open-login');
  const modalBack = document.getElementById('modal-back');
  const modal = document.getElementById('modal');
  const langBtns = document.querySelectorAll('.lang-switch button');
  const loadBtn = document.getElementById('load-github');
  const ghHandleInput = document.getElementById('github-handle');
  const countEl = document.getElementById('count');
  const logoNick = document.getElementById('logo-nick');
  const footerName = document.getElementById('footer-name');

  const LANG = {
    uk:{login:'–£–≤—ñ–π—Ç–∏ —á–µ—Ä–µ–∑ Google', edit:'–†–µ–¥–∞–≥—É–≤–∞—Ç–∏ –ø—Ä–æ—Ñ—ñ–ª—å', load:'–ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó', empty:'–©–µ –Ω–µ–º–∞—î —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó–≤ ‚Äî –≤–≤–µ–¥—ñ—Ç—å GitHub –Ω—ñk —ñ –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å ¬´–ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó¬ª'},
    ru:{login:'–í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Google', edit:'–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å', load:'–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏', empty:'–ü–æ–∫–∞ –Ω–µ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ ‚Äî –≤–≤–µ–¥–∏—Ç–µ GitHub –Ω–∏–∫ –∏ –Ω–∞–∂–º–∏—Ç–µ ¬´–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏¬ª'},
    en:{login:'Sign in with Google', edit:'Edit profile', load:'Load repositories', empty:'No repositories yet ‚Äî enter GitHub username and click "Load repositories"'}
  };
  let currentLang = 'uk';

  // init
  updateI18n(); renderProfile();

  // events
  openLoginBtn.addEventListener('click', googleSignIn);
  editProfileBtn.addEventListener('click', openProfileEditor);
  loadBtn.addEventListener('click', ()=>{ const h = (ghHandleInput.value||'').trim(); if(!h){ alert('–í–≤–µ–¥—ñ—Ç—å GitHub –Ω—ñk'); return } fetchGitHubRepos(h); });
  searchEl.addEventListener('input', debounce(()=>render(filterRepos()),160));
  filterEl.addEventListener('change', ()=>render(filterRepos()));
  langBtns.forEach(b=>b.addEventListener('click', ()=>{ langBtns.forEach(x=>x.classList.remove('active')); b.classList.add('active'); currentLang=b.dataset.lang; updateI18n(); }));

  // Firebase auth state
  onAuthStateChanged(auth, user=>{
    if(user){
      // user: can use displayName, photoURL, email, uid
      profile = profile || {};
      profile.loggedIn = true;
      profile.uid = user.uid;
      profile.name = profile.name || user.displayName || user.email.split('@')[0];
      profile.email = user.email;
      saveProfile();
      renderProfile();
      openLoginBtn.textContent = '–í–∏–π—Ç–∏';
      openLoginBtn.onclick = googleSignOut;
    } else {
      profile.loggedIn = false;
      saveProfile();
      renderProfile();
      openLoginBtn.textContent = LANG[currentLang].login;
      openLoginBtn.onclick = googleSignIn;
    }
  });

  async function googleSignIn(){
    try{
      await signInWithPopup(auth, provider);
      // onAuthStateChanged handles UI changes
    }catch(err){
      alert('–ü–æ–º–∏–ª–∫–∞ –≤—Ö–æ–¥—É: ' + (err.message||err));
      console.error(err);
    }
  }
  async function googleSignOut(){
    try{
      await signOut(auth);
      // keep profile but mark loggedOut
      profile.loggedIn = false; saveProfile(); renderProfile();
    }catch(err){ console.error(err); alert('–ü–æ–º–∏–ª–∫–∞ –≤–∏—Ö–æ–¥—É'); }
  }

  // Fetch GitHub repositories (public) ‚Äî unauthenticated (watch rate limits ~60/hr per IP)
  // We fetch user's repos, sort by stargazers_count desc, limit to 100.
  async function fetchGitHubRepos(username){
    try{
      showLoading(true);
      repos = [];
      countEl.textContent = '...';
      const url = `https://api.github.com/users/${encodeURIComponent(username)}/repos?per_page=100&type=owner`;
      const res = await fetch(url);
      if(res.status === 404){ alert('–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ'); showLoading(false); return; }
      if(res.status === 403){ alert('GitHub rate limit –∞–±–æ –±–ª–æ–∫—É–≤–∞–Ω–Ω—è. –°–ø—Ä–æ–±—É–π—Ç–µ –ø—ñ–∑–Ω—ñ—à–µ –∞–±–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ —Ç–æ–∫–µ–Ω.'); showLoading(false); return; }
      const data = await res.json();
      // normalize
      repos = data.map(r=>({
        title: r.name,
        desc: r.description || '',
        tags: inferTagsFromRepo(r),
        repo: r.html_url,
        stars: r.stargazers_count || 0,
        language: r.language || ''
      })).sort((a,b)=> (b.stars||0) - (a.stars||0));
      // save handle to profile
      profile.github = username;
      saveProfile();
      render(repos);
      countEl.textContent = repos.length;
      showLoading(false);
    }catch(err){
      console.error(err);
      alert('–ü–æ–º–∏–ª–∫–∞ –ø—ñ–¥–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó–≤: ' + (err.message||err));
      showLoading(false);
    }
  }

  function inferTagsFromRepo(r){
    const tags = [];
    if(r.language) tags.push((r.language||'').toLowerCase());
    // simple heuristics
    const name = (r.name||'').toLowerCase();
    if(name.includes('cli')) tags.push('cli');
    if(name.includes('lib')||name.includes('plugin')||name.includes('module')) tags.push('lib');
    if(name.includes('demo')||name.includes('example')) tags.push('example');
    if(name.includes('tool')||name.includes('utils')||name.includes('utility')) tags.push('tool');
    if((r.topics||[]).length) tags.push(...r.topics);
    return Array.from(new Set(tags)).slice(0,6);
  }

  function render(list){
    grid.innerHTML = '';
    if(!list || !list.length){ emptyEl.style.display = 'block'; return }
    emptyEl.style.display = 'none';
    list.forEach((p,i)=>{
      const card = document.createElement('article'); card.className='card';
      card.innerHTML = `
        <div>
          <h3 class="title">${escapeHtml(p.title)}</h3>
          <div class="desc">${escapeHtml(p.desc||'')}</div>
          <div class="tags">${(p.tags||[]).map(t=>`<span class="tag">${escapeHtml(t)}</span>`).join('')}</div>
        </div>
        <div class="actions">
          <a class="link" href="${escapeAttr(p.repo)}" target="_blank" rel="noopener">${LANG[currentLang].load}</a>
          <div class="muted" style="margin-left:auto">${p.stars||0} ‚òÖ</div>
        </div>
      `;
      grid.appendChild(card);
      requestAnimationFrame(()=>setTimeout(()=>card.classList.add('visible'), i*50));
      card.addEventListener('pointermove', (e)=>{
        const r = card.getBoundingClientRect(); const dx = e.clientX - (r.left + r.width/2); const dy = e.clientY - (r.top + r.height/2);
        card.style.transform = `perspective(800px) rotateX(${(-dy/20)}deg) rotateY(${(dx/20)}deg) translateZ(0)`;
      });
      card.addEventListener('pointerleave', ()=>card.style.transform='');
    });
  }

  function filterRepos(){ const q = (searchEl.value||'').trim().toLowerCase(); const f = filterEl.value;
    if(!repos.length) return [];
    return repos.filter(r=>{
      if(q){
        if((r.title||'').toLowerCase().includes(q)) return true;
        if((r.desc||'').toLowerCase().includes(q)) return true;
        if((r.tags||[]).some(t=>t.toLowerCase().includes(q))) return true;
        return false;
      }
      if(f && f!=='all') return (r.tags||[]).includes(f) || (r.language||'').toLowerCase()===f;
      return true;
    });
  }

  // Profile editor modal
  editProfileBtn.addEventListener('click', openProfileEditor);
  function openProfileEditor(){
    openModal(`
      <h3>–†–µ–¥–∞–≥—É–≤–∞—Ç–∏ –ø—Ä–æ—Ñ—ñ–ª—å</h3>
      <div class="form-row"><label>–ù—ñ–∫ (–ø–æ–∫–∞–∑—É—î—Ç—åc—è —É –ª–æ–≥–æ—Ç–∏–ø—ñ)</label><input id="p-nick" type="text" maxlength="12" value="${escapeAttr(profile.nick||'NET')}" /></div>
      <div class="form-row"><label>–Ü–º'—è</label><input id="p-name" type="text" value="${escapeAttr(profile.name||'–¢–≤–æ—î —ñ–º º—è')}" /></div>
      <div class="form-row"><label>–ü—Ä–æ –º–µ–Ω–µ</label><textarea id="p-bio">${escapeHtml(profile.bio||'')}</textarea></div>
      <div class="form-row"><label>GitHub –Ω—ñk (—â–æ–± –ø—ñ–¥–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —Ä–µ–ø–æ)</label><input id="p-gh" type="text" value="${escapeAttr(profile.github||'')}" /></div>
      <div style="display:flex;justify-content:flex-end;gap:8px"><button id="save-profile" class="btn primary">–ó–±–µ—Ä–µ–≥—Ç–∏</button><button id="close-profile" class="btn">–ó–∞–∫—Ä–∏—Ç–∏</button></div>
    `);
    document.getElementById('close-profile').addEventListener('click', closeModal);
    document.getElementById('save-profile').addEventListener('click', ()=>{
      const nick = (document.getElementById('p-nick').value||'').trim()||profile.nick||'NET';
      const name = (document.getElementById('p-name').value||'').trim()||profile.name||'–¢–≤–æ—î —ñ–º º—è';
      const bio = (document.getElementById('p-bio').value||'').trim();
      const gh = (document.getElementById('p-gh').value||'').trim();
      profile.nick = nick; profile.name = name; profile.bio = bio; profile.github = gh;
      saveProfile(); renderProfile(); closeModal();
      if(gh) { ghHandleInput.value = gh; fetchGitHubRepos(gh); }
    });
  }

  function renderProfile(){
    avatarPreview.textContent = (profile.avatarInitials) ? profile.avatarInitials : getInitials(profile.name||profile.nick||'U');
    profileNameEl.textContent = profile.name || '–ì—ñ—Å—Ç—å';
    profileBioEl.textContent = profile.bio || (profile.loggedIn ? '–ü—ñ–¥–∫–ª—é—á—ñ—Ç—å GitHub —Ç–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó' : '–£–≤—ñ–π–¥—ñ—Ç—å —á–µ—Ä–µ–∑ Google –¥–ª—è —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –ø—Ä–æ—Ñ—ñ–ª—é');
    logoNick.textContent = (profile.nick||'NET').slice(0,6).toUpperCase();
    footerName.textContent = profile.name || '–¢–≤–æ—î —ñ–º º—è';
    // if saved github handle exists, fill input
    if(profile.github) ghHandleInput.value = profile.github;
  }

  function saveProfile(){ localStorage.setItem(STORAGE_KEY, JSON.stringify(profile)); }
  function loadProfile(){ try{ const raw = localStorage.getItem(STORAGE_KEY); if(raw) return JSON.parse(raw); }catch(e){} return { nick:'NET', name:'–ì—ñ—Å—Ç—å', bio:'', avatarInitials:'U', loggedIn:false, github:'' }; }
  profile = loadProfile();

  // modal helpers
  function openModal(html){ modal.innerHTML = html; modalBack.style.display = 'flex'; modalBack.setAttribute('aria-hidden','false'); }
  function closeModal(){ modalBack.style.display = 'none'; modal.innerHTML = ''; modalBack.setAttribute('aria-hidden','true'); }
  modalBack.addEventListener('click', (e)=>{ if(e.target===modalBack) closeModal(); });

  // helpers
  function escapeHtml(s){ return String(s||'').replace(/[&<>"]/g, ch=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;'}[ch])); }
  function escapeAttr(s){ return escapeHtml(s).replace(/"/g,'&quot;') }
  function debounce(fn,ms){ let t; return (...a)=>{ clearTimeout(t); t=setTimeout(()=>fn(...a), ms); }; }
  function getInitials(name){ if(!name) return 'U'; return name.split(' ').map(s=>s[0]||'').join('').slice(0,2).toUpperCase(); }

  function updateI18n(){
    document.getElementById('main-title').textContent = {uk:'Neon Open Source Portfolio',ru:'Neon Open Source Portfolio',en:'Neon Open Source Portfolio'}[currentLang];
    document.getElementById('open-login')?.setAttribute('title', LANG[currentLang].login);
    document.getElementById('load-github').textContent = LANG[currentLang].load;
    emptyEl.textContent = LANG[currentLang].empty;
  }

  function showLoading(on){
    if(on){ loadBtn.textContent = '–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è...'; loadBtn.disabled = true; }
    else{ loadBtn.textContent = LANG[currentLang].load; loadBtn.disabled = false; }
  }

  // On page load: if profile.github exists, try load
  if(profile.github) { ghHandleInput.value = profile.github; fetchGitHubRepos(profile.github); }
  // keep count updated even if repos empty
  countEl.textContent = repos.length;

  </script>
</body>
</html>
